// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package boundary

import (
	"context"
	"reflect"

	"errors"
	"github.com/joerit/pulumi-boundary/sdk/go/boundary/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// The hostSetPlugin resource allows you to configure a Boundary host set. Host sets are always part of a host catalog, so a host catalog resource should be used inline or you should have the host catalog ID in hand to successfully configure a host set.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"encoding/json"
//
//	"github.com/joerit/pulumi-boundary/sdk/go/boundary"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			org, err := boundary.NewScope(ctx, "org", &boundary.ScopeArgs{
//				Name:                  pulumi.String("organization_one"),
//				Description:           pulumi.String("My first scope!"),
//				ScopeId:               pulumi.String("global"),
//				AutoCreateAdminRole:   pulumi.Bool(true),
//				AutoCreateDefaultRole: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			project, err := boundary.NewScope(ctx, "project", &boundary.ScopeArgs{
//				Name:                pulumi.String("project_one"),
//				Description:         pulumi.String("My first scope!"),
//				ScopeId:             org.ID(),
//				AutoCreateAdminRole: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			tmpJSON0, err := json.Marshal(map[string]interface{}{
//				"region": "us-east-1",
//			})
//			if err != nil {
//				return err
//			}
//			json0 := string(tmpJSON0)
//			tmpJSON1, err := json.Marshal(map[string]interface{}{
//				"access_key_id":     "aws_access_key_id_value",
//				"secret_access_key": "aws_secret_access_key_value",
//			})
//			if err != nil {
//				return err
//			}
//			json1 := string(tmpJSON1)
//			// For more information about the aws plugin, please visit here:
//			// https://github.com/hashicorp/boundary-plugin-host-aws
//			//
//			// For more information about aws users, please visit here:
//			// https://learn.hashicorp.com/tutorials/boundary/aws-host-catalogs?in=boundary/oss-access-management#configure-terraform-and-iam-user-privileges
//			awsExample, err := boundary.NewHostCatalogPlugin(ctx, "aws_example", &boundary.HostCatalogPluginArgs{
//				Name:           pulumi.String("My aws catalog"),
//				Description:    pulumi.String("My first host catalog!"),
//				ScopeId:        project.ID(),
//				PluginName:     pulumi.String("aws"),
//				AttributesJson: pulumi.String(json0),
//				SecretsJson:    pulumi.String(json1),
//			})
//			if err != nil {
//				return err
//			}
//			tmpJSON2, err := json.Marshal(map[string]interface{}{
//				"filters": []string{
//					"tag:service-type=web",
//				},
//			})
//			if err != nil {
//				return err
//			}
//			json2 := string(tmpJSON2)
//			_, err = boundary.NewHostSetPlugin(ctx, "web", &boundary.HostSetPluginArgs{
//				Name:           pulumi.String("My web host set plugin"),
//				HostCatalogId:  awsExample.ID(),
//				AttributesJson: pulumi.String(json2),
//			})
//			if err != nil {
//				return err
//			}
//			tmpJSON3, err := json.Marshal(map[string]interface{}{
//				"filters": []string{
//					"tag-key=foo",
//					"tag-key=bar",
//				},
//			})
//			if err != nil {
//				return err
//			}
//			json3 := string(tmpJSON3)
//			_, err = boundary.NewHostSetPlugin(ctx, "foobar", &boundary.HostSetPluginArgs{
//				Name:          pulumi.String("My foobar host set plugin"),
//				HostCatalogId: awsExample.ID(),
//				PreferredEndpoints: pulumi.StringArray{
//					pulumi.String("cidr:54.0.0.0/8"),
//				},
//				AttributesJson: pulumi.String(json3),
//			})
//			if err != nil {
//				return err
//			}
//			tmpJSON4, err := json.Marshal(map[string]interface{}{
//				"filters": []string{
//					"tag:development=prod,dev",
//					"launch-time=2022-01-04T*",
//				},
//			})
//			if err != nil {
//				return err
//			}
//			json4 := string(tmpJSON4)
//			_, err = boundary.NewHostSetPlugin(ctx, "launch", &boundary.HostSetPluginArgs{
//				Name:                pulumi.String("My launch host set plugin"),
//				HostCatalogId:       awsExample.ID(),
//				SyncIntervalSeconds: pulumi.Int(60),
//				AttributesJson:      pulumi.String(json4),
//			})
//			if err != nil {
//				return err
//			}
//			tmpJSON5, err := json.Marshal(map[string]interface{}{
//				"disable_credential_rotation": "true",
//				"tenant_id":                   "ARM_TENANT_ID",
//				"subscription_id":             "ARM_SUBSCRIPTION_ID",
//				"client_id":                   "ARM_CLIENT_ID",
//			})
//			if err != nil {
//				return err
//			}
//			json5 := string(tmpJSON5)
//			tmpJSON6, err := json.Marshal(map[string]interface{}{
//				"secret_value": "ARM_CLIENT_SECRET",
//			})
//			if err != nil {
//				return err
//			}
//			json6 := string(tmpJSON6)
//			// For more information about the azure plugin, please visit here:
//			// https://github.com/hashicorp/boundary-plugin-host-azure
//			//
//			// For more information about azure ad applications, please visit here:
//			// https://learn.hashicorp.com/tutorials/boundary/azure-host-catalogs#register-a-new-azure-ad-application-1
//			azureExample, err := boundary.NewHostCatalogPlugin(ctx, "azure_example", &boundary.HostCatalogPluginArgs{
//				Name:           pulumi.String("My azure catalog"),
//				Description:    pulumi.String("My second host catalog!"),
//				ScopeId:        project.ID(),
//				PluginName:     pulumi.String("azure"),
//				AttributesJson: pulumi.String(json5),
//				SecretsJson:    pulumi.String(json6),
//			})
//			if err != nil {
//				return err
//			}
//			tmpJSON7, err := json.Marshal(map[string]interface{}{
//				"filter": "tagName eq 'service-type' and tagValue eq 'database'",
//			})
//			if err != nil {
//				return err
//			}
//			json7 := string(tmpJSON7)
//			_, err = boundary.NewHostSetPlugin(ctx, "database", &boundary.HostSetPluginArgs{
//				Name:           pulumi.String("My database host set plugin"),
//				HostCatalogId:  azureExample.ID(),
//				AttributesJson: pulumi.String(json7),
//			})
//			if err != nil {
//				return err
//			}
//			tmpJSON8, err := json.Marshal(map[string]interface{}{
//				"filter": "tagName eq 'tag-key' and tagValue eq 'foo'",
//				"filter": "tagName eq 'application' and tagValue eq 'dev'",
//			})
//			if err != nil {
//				return err
//			}
//			json8 := string(tmpJSON8)
//			_, err = boundary.NewHostSetPlugin(ctx, "foodev", &boundary.HostSetPluginArgs{
//				Name:          pulumi.String("My foodev host set plugin"),
//				HostCatalogId: azureExample.ID(),
//				PreferredEndpoints: pulumi.StringArray{
//					pulumi.String("cidr:54.0.0.0/8"),
//				},
//				SyncIntervalSeconds: pulumi.Int(60),
//				AttributesJson:      pulumi.String(json8),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ```sh
// $ pulumi import boundary:index/hostSetPlugin:HostSetPlugin foo <my-id>
// ```
type HostSetPlugin struct {
	pulumi.CustomResourceState

	// The attributes for the host set. Either values encoded with the "jsonencode" function, pre-escaped JSON string, or a file:// or env:// path. Set to a string "null" or remove the block to clear all attributes in the host set.
	AttributesJson pulumi.StringPtrOutput `pulumi:"attributesJson"`
	// The host set description.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The catalog for the host set.
	HostCatalogId pulumi.StringOutput `pulumi:"hostCatalogId"`
	// The host set name. Defaults to the resource name.
	Name pulumi.StringOutput `pulumi:"name"`
	// The ordered list of preferred endpoints.
	PreferredEndpoints pulumi.StringArrayOutput `pulumi:"preferredEndpoints"`
	// The value to set for the sync interval seconds.
	SyncIntervalSeconds pulumi.IntPtrOutput `pulumi:"syncIntervalSeconds"`
	// The type of host set
	Type pulumi.StringPtrOutput `pulumi:"type"`
}

// NewHostSetPlugin registers a new resource with the given unique name, arguments, and options.
func NewHostSetPlugin(ctx *pulumi.Context,
	name string, args *HostSetPluginArgs, opts ...pulumi.ResourceOption) (*HostSetPlugin, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.HostCatalogId == nil {
		return nil, errors.New("invalid value for required argument 'HostCatalogId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource HostSetPlugin
	err := ctx.RegisterResource("boundary:index/hostSetPlugin:HostSetPlugin", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetHostSetPlugin gets an existing HostSetPlugin resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetHostSetPlugin(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *HostSetPluginState, opts ...pulumi.ResourceOption) (*HostSetPlugin, error) {
	var resource HostSetPlugin
	err := ctx.ReadResource("boundary:index/hostSetPlugin:HostSetPlugin", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering HostSetPlugin resources.
type hostSetPluginState struct {
	// The attributes for the host set. Either values encoded with the "jsonencode" function, pre-escaped JSON string, or a file:// or env:// path. Set to a string "null" or remove the block to clear all attributes in the host set.
	AttributesJson *string `pulumi:"attributesJson"`
	// The host set description.
	Description *string `pulumi:"description"`
	// The catalog for the host set.
	HostCatalogId *string `pulumi:"hostCatalogId"`
	// The host set name. Defaults to the resource name.
	Name *string `pulumi:"name"`
	// The ordered list of preferred endpoints.
	PreferredEndpoints []string `pulumi:"preferredEndpoints"`
	// The value to set for the sync interval seconds.
	SyncIntervalSeconds *int `pulumi:"syncIntervalSeconds"`
	// The type of host set
	Type *string `pulumi:"type"`
}

type HostSetPluginState struct {
	// The attributes for the host set. Either values encoded with the "jsonencode" function, pre-escaped JSON string, or a file:// or env:// path. Set to a string "null" or remove the block to clear all attributes in the host set.
	AttributesJson pulumi.StringPtrInput
	// The host set description.
	Description pulumi.StringPtrInput
	// The catalog for the host set.
	HostCatalogId pulumi.StringPtrInput
	// The host set name. Defaults to the resource name.
	Name pulumi.StringPtrInput
	// The ordered list of preferred endpoints.
	PreferredEndpoints pulumi.StringArrayInput
	// The value to set for the sync interval seconds.
	SyncIntervalSeconds pulumi.IntPtrInput
	// The type of host set
	Type pulumi.StringPtrInput
}

func (HostSetPluginState) ElementType() reflect.Type {
	return reflect.TypeOf((*hostSetPluginState)(nil)).Elem()
}

type hostSetPluginArgs struct {
	// The attributes for the host set. Either values encoded with the "jsonencode" function, pre-escaped JSON string, or a file:// or env:// path. Set to a string "null" or remove the block to clear all attributes in the host set.
	AttributesJson *string `pulumi:"attributesJson"`
	// The host set description.
	Description *string `pulumi:"description"`
	// The catalog for the host set.
	HostCatalogId string `pulumi:"hostCatalogId"`
	// The host set name. Defaults to the resource name.
	Name *string `pulumi:"name"`
	// The ordered list of preferred endpoints.
	PreferredEndpoints []string `pulumi:"preferredEndpoints"`
	// The value to set for the sync interval seconds.
	SyncIntervalSeconds *int `pulumi:"syncIntervalSeconds"`
	// The type of host set
	Type *string `pulumi:"type"`
}

// The set of arguments for constructing a HostSetPlugin resource.
type HostSetPluginArgs struct {
	// The attributes for the host set. Either values encoded with the "jsonencode" function, pre-escaped JSON string, or a file:// or env:// path. Set to a string "null" or remove the block to clear all attributes in the host set.
	AttributesJson pulumi.StringPtrInput
	// The host set description.
	Description pulumi.StringPtrInput
	// The catalog for the host set.
	HostCatalogId pulumi.StringInput
	// The host set name. Defaults to the resource name.
	Name pulumi.StringPtrInput
	// The ordered list of preferred endpoints.
	PreferredEndpoints pulumi.StringArrayInput
	// The value to set for the sync interval seconds.
	SyncIntervalSeconds pulumi.IntPtrInput
	// The type of host set
	Type pulumi.StringPtrInput
}

func (HostSetPluginArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*hostSetPluginArgs)(nil)).Elem()
}

type HostSetPluginInput interface {
	pulumi.Input

	ToHostSetPluginOutput() HostSetPluginOutput
	ToHostSetPluginOutputWithContext(ctx context.Context) HostSetPluginOutput
}

func (*HostSetPlugin) ElementType() reflect.Type {
	return reflect.TypeOf((**HostSetPlugin)(nil)).Elem()
}

func (i *HostSetPlugin) ToHostSetPluginOutput() HostSetPluginOutput {
	return i.ToHostSetPluginOutputWithContext(context.Background())
}

func (i *HostSetPlugin) ToHostSetPluginOutputWithContext(ctx context.Context) HostSetPluginOutput {
	return pulumi.ToOutputWithContext(ctx, i).(HostSetPluginOutput)
}

// HostSetPluginArrayInput is an input type that accepts HostSetPluginArray and HostSetPluginArrayOutput values.
// You can construct a concrete instance of `HostSetPluginArrayInput` via:
//
//	HostSetPluginArray{ HostSetPluginArgs{...} }
type HostSetPluginArrayInput interface {
	pulumi.Input

	ToHostSetPluginArrayOutput() HostSetPluginArrayOutput
	ToHostSetPluginArrayOutputWithContext(context.Context) HostSetPluginArrayOutput
}

type HostSetPluginArray []HostSetPluginInput

func (HostSetPluginArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*HostSetPlugin)(nil)).Elem()
}

func (i HostSetPluginArray) ToHostSetPluginArrayOutput() HostSetPluginArrayOutput {
	return i.ToHostSetPluginArrayOutputWithContext(context.Background())
}

func (i HostSetPluginArray) ToHostSetPluginArrayOutputWithContext(ctx context.Context) HostSetPluginArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(HostSetPluginArrayOutput)
}

// HostSetPluginMapInput is an input type that accepts HostSetPluginMap and HostSetPluginMapOutput values.
// You can construct a concrete instance of `HostSetPluginMapInput` via:
//
//	HostSetPluginMap{ "key": HostSetPluginArgs{...} }
type HostSetPluginMapInput interface {
	pulumi.Input

	ToHostSetPluginMapOutput() HostSetPluginMapOutput
	ToHostSetPluginMapOutputWithContext(context.Context) HostSetPluginMapOutput
}

type HostSetPluginMap map[string]HostSetPluginInput

func (HostSetPluginMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*HostSetPlugin)(nil)).Elem()
}

func (i HostSetPluginMap) ToHostSetPluginMapOutput() HostSetPluginMapOutput {
	return i.ToHostSetPluginMapOutputWithContext(context.Background())
}

func (i HostSetPluginMap) ToHostSetPluginMapOutputWithContext(ctx context.Context) HostSetPluginMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(HostSetPluginMapOutput)
}

type HostSetPluginOutput struct{ *pulumi.OutputState }

func (HostSetPluginOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**HostSetPlugin)(nil)).Elem()
}

func (o HostSetPluginOutput) ToHostSetPluginOutput() HostSetPluginOutput {
	return o
}

func (o HostSetPluginOutput) ToHostSetPluginOutputWithContext(ctx context.Context) HostSetPluginOutput {
	return o
}

// The attributes for the host set. Either values encoded with the "jsonencode" function, pre-escaped JSON string, or a file:// or env:// path. Set to a string "null" or remove the block to clear all attributes in the host set.
func (o HostSetPluginOutput) AttributesJson() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *HostSetPlugin) pulumi.StringPtrOutput { return v.AttributesJson }).(pulumi.StringPtrOutput)
}

// The host set description.
func (o HostSetPluginOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *HostSetPlugin) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The catalog for the host set.
func (o HostSetPluginOutput) HostCatalogId() pulumi.StringOutput {
	return o.ApplyT(func(v *HostSetPlugin) pulumi.StringOutput { return v.HostCatalogId }).(pulumi.StringOutput)
}

// The host set name. Defaults to the resource name.
func (o HostSetPluginOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *HostSetPlugin) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The ordered list of preferred endpoints.
func (o HostSetPluginOutput) PreferredEndpoints() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *HostSetPlugin) pulumi.StringArrayOutput { return v.PreferredEndpoints }).(pulumi.StringArrayOutput)
}

// The value to set for the sync interval seconds.
func (o HostSetPluginOutput) SyncIntervalSeconds() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *HostSetPlugin) pulumi.IntPtrOutput { return v.SyncIntervalSeconds }).(pulumi.IntPtrOutput)
}

// The type of host set
func (o HostSetPluginOutput) Type() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *HostSetPlugin) pulumi.StringPtrOutput { return v.Type }).(pulumi.StringPtrOutput)
}

type HostSetPluginArrayOutput struct{ *pulumi.OutputState }

func (HostSetPluginArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*HostSetPlugin)(nil)).Elem()
}

func (o HostSetPluginArrayOutput) ToHostSetPluginArrayOutput() HostSetPluginArrayOutput {
	return o
}

func (o HostSetPluginArrayOutput) ToHostSetPluginArrayOutputWithContext(ctx context.Context) HostSetPluginArrayOutput {
	return o
}

func (o HostSetPluginArrayOutput) Index(i pulumi.IntInput) HostSetPluginOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *HostSetPlugin {
		return vs[0].([]*HostSetPlugin)[vs[1].(int)]
	}).(HostSetPluginOutput)
}

type HostSetPluginMapOutput struct{ *pulumi.OutputState }

func (HostSetPluginMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*HostSetPlugin)(nil)).Elem()
}

func (o HostSetPluginMapOutput) ToHostSetPluginMapOutput() HostSetPluginMapOutput {
	return o
}

func (o HostSetPluginMapOutput) ToHostSetPluginMapOutputWithContext(ctx context.Context) HostSetPluginMapOutput {
	return o
}

func (o HostSetPluginMapOutput) MapIndex(k pulumi.StringInput) HostSetPluginOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *HostSetPlugin {
		return vs[0].(map[string]*HostSetPlugin)[vs[1].(string)]
	}).(HostSetPluginOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*HostSetPluginInput)(nil)).Elem(), &HostSetPlugin{})
	pulumi.RegisterInputType(reflect.TypeOf((*HostSetPluginArrayInput)(nil)).Elem(), HostSetPluginArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*HostSetPluginMapInput)(nil)).Elem(), HostSetPluginMap{})
	pulumi.RegisterOutputType(HostSetPluginOutput{})
	pulumi.RegisterOutputType(HostSetPluginArrayOutput{})
	pulumi.RegisterOutputType(HostSetPluginMapOutput{})
}
